{% extends "::layout.html.twig" %}

{% block title %}
	{{ parent() }} - Home
{% endblock %}

{% block body %}
	{{ parent() }}

	<h1>{{ app['app'].name }} - {{ app['app'].id }}</h1>
	<p>{{ app['app'].description }}</p>

	<div class="row">
		<div class="col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3>Available on</h3>
				</div>
				<div class="panel-body">
					{% for appInfo in app['appInfos'] %}
						<a href='{{appInfo['dlPath']}}'>{{ appInfo['platform'].name }}</a>
					{% else %}
						<p>Aucune plateforme support√©e</p>
					{% endfor %}
				</div>
			</div>
		</div>

		<div class="col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3>Marks : {{ app['avgMark'] }} / 20</h3>
				</div>
				<div class="panel-body">
					{% for appInfo in app['appInfos'] %}
						{{ appInfo['platform'].name }} : {{ appInfo['avgMark'] }} / 20
					{% endfor %}
				</div>
			</div>
		</div>

		<div class="col-md-6">
			<h2>Comments</h2>
			{% for appInfo in app['appInfos'] %}
				{% for comment in appInfo['comments'] %}
					<div class="panel panel-info">
						<div class="panel-heading">
							<strong>{{ comment.title }}</strong>
							{% if comment.mark is not null%}
								{{ comment.mark.mark }}
							{% endif %}
							<em>({{ appInfo.platform.name }})</em>
						</div>
						<div class="panel-body">
							{{ comment.comment }} ({{ appInfo.platform.name }})
						</div>
					</div>
				{% endfor %}
			{% endfor %}
		</div>
	</div>

	<hr>

{% endblock %}
